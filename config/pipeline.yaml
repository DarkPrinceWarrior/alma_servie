paths:
  raw_dir: data/raw
  interim_dir: data/interim
  processed_dir: data/processed
  reports_dir: reports

agzu:
  sheet_name: "Замеры АГЗУ из ТМ"
  key_columns:
    - "Дата окончания замера"
    - "Планируемая продолжительность, мин"
    - "Фактическая продолжительность???, мин"
    - "Объемный дебит жидкости, м3/сут"
    - "Объемный дебит газа, м3/сут"
    - "Давление в коллекторе ГЗУ при замере"
  well_column: "well_number"
  datetime_column: "Дата окончания замера"
  max_gap_hours_flag: 24
  negative_sensitive_columns:
    - "Объемный дебит жидкости, м3/сут"
    - "Давление в коллекторе ГЗУ при замере"
  extreme_thresholds:
    "Фактическая продолжительность???, мин": 1440

su:
  sheet_name: "Замеры СУ"
  key_columns:
    - "Дата замера"
    - "Ток фазы A"
    - "Выходная частота"
    - "Давление на приеме насоса"
    - "Температура двигателя"
    - "Устьевое давление"
  well_column: "well_number"
  datetime_column: "Дата замера"
  fill_method:
    - ffill
    - bfill
  zero_sensitive_columns:
    - "Ток фазы A"
    - "Выходная частота"
    - "Устьевое давление"
  gap_minutes_flag: 60

anomalies:
  source_workbook: "./alma/Общая_таблица.xlsx"
  svod_sheet: "svod"
  anomaly_cause: "Негерметичность НКТ"
  normal_cause: "Нормальная работа при изменении частоты"
  detection:
    window_minutes: 60
    shift_minutes: 60
    min_samples: 30
    delta_factor: 0.6
    delta_quantile: 0.1
    slope_margin: 0.03
    slope_quantile: 0.15
    min_duration_minutes: 60
    gap_minutes: 10
  interpretation:
    strong_increase: 0.1
    mild_increase: 0.03
    mild_drop: -0.03
    strong_drop: -0.1
  calibration_percentiles:
    - 0.1
    - 0.5
    - 0.9

metadata:
  manifest_file: data/raw/manifest.csv
  hash_algorithm: sha256

alignment:
  frequency: "15T"
  agzu_max_ffill_hours: 24
  su_max_ffill_hours: 6
