paths:
  reports_dir: reports

anomalies:
  source_workbook: "./alma/Общая_таблица.xlsx"
  svod_sheet: "svod"
  anomaly_cause: "Негерметичность НКТ"
  normal_cause: "Нормальная работа при изменении частоты"
  detection:
    window_minutes: 30
    shift_minutes: 15
    min_samples: 30
    delta_factor: 0.6
    delta_quantile: 0.1
    slope_margin: 0.03
    slope_quantile: 0.15
    min_duration_minutes: 60
    gap_minutes: 10
  interpretation:
    strong_increase: 0.1
    mild_increase: 0.03
    mild_drop: -0.03
    strong_drop: -0.1
  calibration_percentiles:
    - 0.1
    - 0.5
    - 0.9
  preprocessing:
    hampel_window_minutes: 45
    hampel_n_sigma: 3.0
    ffill_limit_minutes: 30
  frequency_baseline:
    enabled: true
    bin_width_hz: 2.0
    min_points: 10
    metrics:
      - "Intake_Pressure"
      - "Current"
      - "Motor_Temperature"
  detection_residual:
    enabled: true
    ewma_lambda: 0.2
    ewma_l_multiplier: 3.0
    spike_threshold: 4.0
    t2_alpha: 0.001
    min_t2_points: 30

alignment:
  frequency: "15T"
  base_aggregation: "mean"
  pressure_fast_metrics:
    - "Intake_Pressure"
  agzu_max_ffill_hours: 24
  su_max_ffill_hours: 6
